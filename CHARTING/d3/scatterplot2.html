
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3 Demo: Making a scatterplot with SVG</title>

		 <!-- d3 -->
		 <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>

		<style type="text/css">
			/* No style rules here yet */		
		</style>
	</head>
	<body>

	<h1> scatterplot </h1>

		<script type="text/javascript">

			//Width and height
			var w = 500;
			var h = 150;
			
			var events = [
			  {"time":"2015-04-30T01:00:28.375Z","microsecond":318,"app":"NewsFeedDirect","direction":"IN","relativeMicroseconds":0,"Position":2,"x":"2015-04-30T01:00:28.375Z","y":318},
 			  {"time":"2015-04-30T01:00:28.375Z","microsecond":476,"app":"NewsFeedDirect","direction":"IN","relativeMicroseconds":100,"Position":8,"x":"2015-04-30T01:00:28.375Z","y":476},
			  {"time":"2015-04-30T01:00:28.377Z","microsecond":741,"app":"NewsFeedDirect","direction":"IN","relativeMicroseconds":200,"Position":5,"x":"2015-04-30T01:00:28.377Z","y":741},
			  {"time":"2015-04-30T01:00:28.377Z","microsecond":907,"app":"NewsFeedDirect","direction":"IN","relativeMicroseconds":800,"Position":1,"x":"2015-04-30T01:00:28.377Z","y":907},

			  {"relativeMicroseconds":500,"Position":2},
			  {"relativeMicroseconds":15000,"Position":8},
			  {"relativeMicroseconds":70,"Position":8},
			  {"relativeMicroseconds":2000,"Position":8},
			  {"relativeMicroseconds":200,"Position":8},

                ];


			//Create SVG element
			var svg = d3.select("body")
			      .append("svg")
			      .attr("width", w)
			      .attr("height", h);

			svg.append("rect")
			    .attr("width", "100%")
			    .attr("height", "100%")
			    .attr("fill", "pink");


			svg.selectAll("circle")
			   .data(events)
			   .enter()
			   .append("circle")
			   .attr("cx", function(d) {
					// 50 uS = 1 block
					x = d.relativeMicroseconds / 25;
					if (x>500) x= 500;
			   		return x;
			   })
			   .attr("cy", function(d) {
			   		return 150 - d.Position*15; // Position is from 0 to 10, we have 150 height, so multiply by 15
			   })
			   .attr("r", function(d) {
			   		return 4;
			   });

			/*svg.selectAll("text")
			   .data(dataset)
			   .enter()
			   .append("text")
			   .text(function(d) {
			   		return d[0] + "," + d[1];
			   })
			   .attr("x", function(d) {
			   		return d[0];
			   })
			   .attr("y", function(d) {
			   		return d[1];
			   })
			   .attr("font-family", "sans-serif")
			   .attr("font-size", "11px")
			   .attr("fill", "red");*/
			
		</script>
	</body>
</html>